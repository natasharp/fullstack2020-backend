{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","handler","onChange","PersonForm","props","onSubmit","submitHandler","nameValue","nameHandler","phoneValue","phoneHandler","type","Person","person","removePersonHandler","name","number","onClick","Persons","persons","map","key","Notification","message","success","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","setPersons","newName","setNewName","newPhone","setNewPhone","newFilter","setNewFilter","notification","setNewNotification","isSuccess","setIsSuccess","useEffect","personService","initialPersons","updatePerson","window","confirm","returnedPerson","p","catch","error","addErrorMessage","setTimeout","addSuccessNotification","personsToDisplay","filter","toLowerCase","includes","event","target","preventDefault","newPerson","find","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b3046eec.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ value, handler }) =>\r\n  <div>filter shown with <input value={value} onChange={handler} /></div>\r\n\r\n  export default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.submitHandler}>\r\n      <div>\r\n        name: <input\r\n          value={props.nameValue}\r\n          onChange={props.nameHandler} />\r\n      </div>\r\n      <div>\r\n        number: <input\r\n          value={props.phoneValue}\r\n          onChange={props.phoneHandler} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>)\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, removePersonHandler }) => {\r\n    return (\r\n        <div>\r\n            {person.name}<span> </span>\r\n            {person.number}<span> </span>\r\n            <button onClick={() => removePersonHandler(person)}>delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, removePersonHandler }) => {\r\n    return (\r\n        <div>\r\n            {persons.map(person =>\r\n                <Person\r\n                    key={person.name}\r\n                    person={person}\r\n                    removePersonHandler={removePersonHandler}\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons\r\n\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, success }) => {\r\n\r\n  const notificationStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  const errorStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  if (success === true) {\r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div style={errorStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newPhone, setNewPhone] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [notification, setNewNotification] = useState(null)\r\n  const [isSuccess, setIsSuccess] = useState(false)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => { setPersons(initialPersons) })\r\n  }, [])\r\n\r\n  const handleSubmitingPerson = (event) => {\r\n    event.preventDefault()\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newPhone\r\n    }\r\n    const person = persons.find(person => person.name === newPerson.name)\r\n    if (person) {\r\n      updatePerson(person.id, newPerson)\r\n    } else {\r\n      personService.create(newPerson)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewPhone('')\r\n          addSuccessNotification(returnedPerson)\r\n        })\r\n        .catch(error =>\r\n          addErrorMessage(error.response.data.error))\r\n    }\r\n  }\r\n\r\n  const updatePerson = (id, person) => {\r\n    const result = window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)\r\n    if (result) {\r\n      personService.update(id, person)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.map(p => p.id !== id ? p : returnedPerson))\r\n          setNewName('')\r\n          setNewPhone('')\r\n        })\r\n        .catch(error =>\r\n          addErrorMessage(error.response.data.error))\r\n    }\r\n  }\r\n\r\n  const handleNameInput = (event) => setNewName(event.target.value)\r\n  const handlePhoneInput = (event) => setNewPhone(event.target.value)\r\n  const handleFilterInput = (event) => setNewFilter(event.target.value)\r\n\r\n  const removePerson = (person) => {\r\n    const result = window.confirm(`Delete ${person.name}`)\r\n    if (result) {\r\n      personService\r\n        .remove(person.id)\r\n        .then(setPersons(persons.filter(p => p.id !== person.id)))\r\n        .catch(error => {\r\n          addErrorMessage(`Information of '${person.name}' has already been removed from server`)\r\n          setPersons(persons.filter(p => p.id !== person.id))\r\n        })\r\n    }\r\n  }\r\n\r\n  const addErrorMessage = (message) => {\r\n    setNewNotification(message)\r\n    setTimeout(() => {\r\n      setNewNotification(null)\r\n    }, 5000)\r\n  }\r\n\r\n  const addSuccessNotification = (person) => {\r\n    setNewNotification(`Added ${person.name}`)\r\n    setIsSuccess(true)\r\n    setTimeout(() => {\r\n      setNewNotification(null)\r\n      setIsSuccess(false)\r\n    }, 5000)\r\n  }\r\n\r\n  const personsToDisplay = persons.filter(\r\n    person => person.name.toLowerCase().includes(newFilter.toLowerCase())\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification\r\n        message={notification}\r\n        success={isSuccess} />\r\n      <Filter\r\n        value={newFilter}\r\n        handler={handleFilterInput} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm\r\n        nameValue={newName}\r\n        nameHandler={handleNameInput}\r\n        phoneValue={newPhone}\r\n        phoneHandler={handlePhoneInput}\r\n        submitHandler={handleSubmitingPerson} />\r\n      <h3>Numbers</h3>\r\n      <Persons\r\n        persons={personsToDisplay}\r\n        removePersonHandler={removePerson}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}